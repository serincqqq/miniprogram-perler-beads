<!--index.wxml-->
<navigation-bar title="拼豆图转换器" back="{{false}}" color="black" background="#FFF"></navigation-bar>
<view class="page-container">
  <view class="container">
    <!-- 控制区 -->
    <view class="controls">
      <!-- 缩放控制 -->
      <view class="control-group">
        <text>缩放：</text>
        <button bindtap="zoomOut" size="mini">-</button>
        <text class="scale-text">{{scale}}%</text>
        <button bindtap="zoomIn" size="mini">+</button>
      </view>

      <!-- 位移控制 -->
      <view class="control-group">
        <text>位移：</text>
        <button bindtap="moveImage" data-direction="up" size="mini">↑</button>
        <button bindtap="moveImage" data-direction="left" size="mini">←</button>
        <button bindtap="moveImage" data-direction="right" size="mini">→</button>
        <button bindtap="moveImage" data-direction="down" size="mini">↓</button>
        <button bindtap="resetPosition" size="mini">复位</button>
      </view>
    </view>

    <!-- 画布容器 -->
    <view class="grid-container">
      <!-- 固定网格 -->
      <view class="grid-bg" style="background-size: {{gridSize}}px {{gridSize}}px;"></view>

      <!-- 可移动+缩放的图片 -->
      <image src="{{imagePath}}" style="transform: translate({{offsetX}}px, {{offsetY}}px) scale({{scale / 100}});" mode="widthFix" />
    </view>
  </view>
</view>